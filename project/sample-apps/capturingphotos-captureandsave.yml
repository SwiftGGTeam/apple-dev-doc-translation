- å†…å®¹: 'Capturing and Saving a Photo'
  æç¤º: ''
  ç¿»è¯‘: 'æ‹æ‘„å’Œä¿å­˜ç…§ç‰‡'
- å†…å®¹: 'Take photos with the camera, add them to your photo library, and display them in your app.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½¿ç”¨æ‘„åƒå¤´æ‹ç…§ï¼Œå°†ç…§ç‰‡æ·»åŠ åˆ°ä½ çš„ç…§ç‰‡åº“ä¸­ï¼Œå¹¶åœ¨ä½ çš„ app ä¸­æ˜¾ç¤ºå®ƒä»¬ã€‚'
- å†…å®¹: 'Smile! Click! A lot happens in quick succession when you take a photo. ğŸ“¸'
  æç¤º: ''
  ç¿»è¯‘: 'å¾®ç¬‘ï¼ç‚¹å‡»ï¼åœ¨æ‹ç…§æ—¶ä¼šè¿…é€Ÿå‘ç”Ÿå¾ˆå¤šäº‹æƒ…ã€‚'
- å†…å®¹: 'Follow the action after you tap or click the shutter button, to investigate what happens from that moment to when the photo shows up in your photo library.'
  æç¤º: ''
  ç¿»è¯‘: 'éšç€ä½ ç‚¹å‡»ç›¸æœºè§†å›¾æˆ–ç‚¹å‡»å¿«é—¨ä¹‹åï¼Œæ¥æ¢ç´¢ä»è¿™ä¸€åˆ»åˆ°ç…§ç‰‡å‡ºç°åœ¨ä½ ç…§ç‰‡åº“ä¸­æ‰€å‘ç”Ÿçš„è¿‡ç¨‹ã€‚'
- å†…å®¹: 'Responding to the Shutter Button'
  æç¤º: ''
  ç¿»è¯‘: 'å“åº”å¿«é—¨æŒ‰é’®'
- å†…å®¹: 'Learn how to handle the shutter button action, and request the camera to take a photo.'
  æç¤º: ''
  ç¿»è¯‘: 'å­¦ä¹ å¦‚ä½•å¤„ç†å¿«é—¨æŒ‰é’®çš„æ“ä½œï¼Œå¹¶è¯·æ±‚æ‘„åƒå¤´æ‹æ‘„ç…§ç‰‡ã€‚'
- å†…å®¹: 'Step 1'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬ä¸€æ­¥'
- å†…å®¹: 'When you tap or click the shutter button in your camera view, things start happening!'
  æç¤º: ''
  ç¿»è¯‘: 'å½“ä½ ç‚¹å‡»ç›¸æœºè§†å›¾æˆ–ç‚¹å‡»å¿«é—¨æŒ‰é’®æ—¶ï¼Œäº‹æƒ…å°±å¼€å§‹å‘ç”Ÿäº†ï¼'
- å†…å®¹: 'Step 2'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬äºŒæ­¥'
- å†…å®¹: 'The button springs into action, grabs the modelâ€™s camera object, then calls its takePhoto() method. Keep going to find out how it takes a photo!'
  æç¤º: ''
  ç¿»è¯‘: 'æŒ‰é’®è¿…é€Ÿå“åº”ï¼Œè·å–æ¨¡å‹ä¸­çš„ camera å¯¹è±¡ï¼Œç„¶åè°ƒç”¨å®ƒçš„ takePhoto() æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬ä¼šè§£é‡Šå®ƒæ˜¯å¦‚ä½•èƒ½æ‹æ‘„ä¸€å¼ ç…§ç‰‡çš„ï¼'
- å†…å®¹: 'Capturing a Photo'
  æç¤º: ''
  ç¿»è¯‘: 'æ‹æ‘„ä¸€å¼ ç…§ç‰‡'
- å†…å®¹: 'When you take a photo, the camera captures image data from its sensor. Learn how to initiate this, and handle the resulting captured photo.'
  æç¤º: ''
  ç¿»è¯‘: 'å½“ä½ æ‹ç…§æ—¶ï¼Œæ‘„åƒå¤´ä¼šä»å…¶ä¼ æ„Ÿå™¨ä¸­æ•è·å›¾åƒæ•°æ®ã€‚å­¦ä¹ å¦‚ä½•å‘èµ·æ‹ç…§ï¼Œå¹¶å¤„ç†æ•è·åˆ°çš„ç…§ç‰‡ã€‚'
- å†…å®¹: 'When you take a photo, you want to capture an image with the highest possible resolution. This contrasts with the preview images, which tend to have a lower resolution to facilitate rapidly updating previews in the viewfinder. Your camera has a special photo output that its takePhoto() method uses to capture high-resolution images of what you see in the viewfinder.'
  æç¤º: ''
  ç¿»è¯‘: 'å½“ä½ æ‹æ‘„ç…§ç‰‡æ—¶ï¼Œä½ å¸Œæœ›ä»¥å°½å¯èƒ½é«˜çš„åˆ†è¾¨ç‡æ•è·å›¾åƒã€‚è¿™ä¸é¢„è§ˆå›¾åƒå½¢æˆäº†å¯¹æ¯”ï¼Œé¢„è§ˆå›¾åƒé€šå¸¸å…·æœ‰è¾ƒä½çš„åˆ†è¾¨ç‡ï¼Œä»¥ä¾¿åœ¨å–æ™¯å™¨ä¸­å¿«é€Ÿæ›´æ–°é¢„è§ˆã€‚
        ä½ çš„æ‘„åƒå¤´å…·æœ‰ä¸€ä¸ªä¸“é—¨çš„ç…§ç‰‡è¾“å‡ºï¼Œè¿™é‡Œçš„ takePhoto() æ–¹æ³•å°±ä½¿ç”¨è¯¥è¾“å‡ºæ¥æ•è·åœ¨å–æ™¯å™¨ä¸­æ‰€è§çš„é«˜åˆ†è¾¨ç‡å›¾åƒã€‚'
- å†…å®¹: 'You start the real work of taking the photo by requesting the photo output to capture a photo. If all goes well, this is when you hear a reassuring shutter sound to let you â€” and anyone nearby â€” know that youâ€™ve just taken a photo.'
  æç¤º: ''
  ç¿»è¯‘: 'é€šè¿‡è¯·æ±‚ç…§ç‰‡è¾“å‡ºæ¥æ‹æ‘„ç…§ç‰‡ï¼Œä½ ä¾¿å¼€å§‹äº†å®é™…çš„æ‹ç…§å·¥ä½œã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œè¿™æ—¶ä½ ä¼šå¬åˆ°ä»¤äººæ”¾å¿ƒçš„å¿«é—¨å£°éŸ³ï¼Œè®©ä½ å’Œå‘¨å›´çš„äººéƒ½çŸ¥é“ä½ åˆšåˆšæ‹æ‘„äº†ä¸€å¼ ç…§ç‰‡ã€‚'
- å†…å®¹: 'Step 3'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬ä¸‰æ­¥'
- å†…å®¹: 'You might wonder why capturePhoto doesnâ€™t just return the photo. Thatâ€™s because capturing a photo takes time: the camera may need to focus, or wait for the flash, and then thereâ€™s the exposure time. The capturePhoto method is asynchronous, with the captured photo typically arriving a short time after you tap or click the shutter button.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½ å¯èƒ½ä¼šæƒ³çŸ¥é“ä¸ºä»€ä¹ˆ capturePhoto æ–¹æ³•ä¸ç›´æ¥è¿”å›ç…§ç‰‡ã€‚è¿™æ˜¯å› ä¸ºæ‹æ‘„ç…§ç‰‡éœ€è¦æ—¶é—´ï¼šç›¸æœºå¯èƒ½éœ€è¦å¯¹ç„¦ï¼Œæˆ–è€…ç­‰å¾…é—ªå…‰ç¯ï¼Œä»¥åŠè¿˜æœ‰æ›å…‰æ—¶é—´ã€‚
        capturePhoto æ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œé€šå¸¸åœ¨ä½ ç‚¹å‡»ç›¸æœºè§†å›¾æˆ–ç‚¹å‡»å¿«é—¨æŒ‰é’®åçš„çŸ­æš‚æ—¶é—´å†…å°±ä¼šæ”¶åˆ°ç…§ç‰‡ã€‚'
- å†…å®¹: 'Step 4'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬å››æ­¥'
- å†…å®¹: 'After the photo capture has completed, you receive a callback to another method in your camera object: photoOutput(_:didFinishProcessingPhoto:error:). Its first argument receives the captured photo as an instance of AVCapturePhoto.'
  æç¤º: ''
  ç¿»è¯‘: 'åœ¨æ•è·ç…§ç‰‡å®Œæˆåï¼Œcamera å¯¹è±¡çš„å¦ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼šphotoOutput(_:didFinishProcessingPhoto:error:) ä¼šè¢«è°ƒç”¨ã€‚å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç±»å‹ä¸º AVCapturePhoto çš„å®ä¾‹ï¼Œå…¶å°±æ˜¯è¢«æ•è·çš„ç…§ç‰‡ã€‚'
- å†…å®¹: 'Step 5'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬äº”æ­¥'
- å†…å®¹: 'Now that youâ€™ve got the captured photo, you add it into the cameraâ€™s photo stream. Itâ€™s then available to any object in your app waiting for a photo, like the data model.'
  æç¤º: ''
  ç¿»è¯‘: 'ç°åœ¨ä½ å·²ç»è·å¾—äº†ç…§ç‰‡ï¼Œå¹¶å°†å®ƒæ·»åŠ åˆ° camera çš„ç…§ç‰‡æµä¸­ã€‚ç„¶åä½  app ä¸­ä»»ä½•ä¸€ä¸ªç­‰å¾…ç…§ç‰‡æ•°æ®çš„å¯¹è±¡ï¼ˆä¾‹å¦‚æ•°æ®æ¨¡å‹ï¼‰éƒ½å¯ä»¥ä½¿ç”¨å®ƒã€‚'
- å†…å®¹: 'Processing and Saving a Photo'
  æç¤º: ''
  ç¿»è¯‘: 'å¤„ç†å’Œä¿å­˜ç…§ç‰‡'
- å†…å®¹: 'Discover how to unpack a captured photo and save it to your photo library.'
  æç¤º: ''
  ç¿»è¯‘: 'äº†è§£å¦‚ä½•è§£åŒ…æ•è·çš„ç…§ç‰‡å¹¶å°†å…¶ä¿å­˜åˆ°ç…§ç‰‡åº“ä¸­ã€‚'
- å†…å®¹: 'Your data model is patiently awaiting newly-captured photos. Just as for preview images, it has a dedicated task for handling the captured photo stream from the camera, using its handleCameraPhotos method.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½ çš„æ•°æ®æ¨¡å‹æ­£åœ¨è€å¿ƒåœ°ç­‰å¾…æ–°æ•è·åˆ°çš„ç…§ç‰‡ã€‚å°±åƒå¤„ç†é¢„è§ˆå›¾åƒä¸€æ ·ï¼Œå®ƒä¹Ÿæœ‰ä¸€ä¸ªä¸“é—¨çš„ Task å¤„ç†æ¥è‡ª camera å¯¹è±¡çš„è¢«æ•è·çš„ç…§ç‰‡æµï¼Œè¿™ä¸ª Task è°ƒç”¨ handleCameraPhotos æ–¹æ³•ã€‚'
- å†…å®¹: 'Tip'
  æç¤º: ''
  ç¿»è¯‘: 'æ³¨é‡Š'
- å†…å®¹: 'You can learn more about Tasks in the Swift standard library.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½ å¯ä»¥åœ¨ Swift æ ‡å‡†åº“ä¸­äº†è§£æ›´å¤šå…³äº Task çš„ä¿¡æ¯ã€‚'
- å†…å®¹: 'Each AVCapturePhoto element in the cameraâ€™s photoStream may contain several images at different resolutions, as well as other metadata about the image, such as its size and the date and time the image was captured. You have to unpack it to get the images and metadata that you want. The first thing you do in handleCameraPhotos is to convert photoStream into a more useful unpackedPhotoStream, in which each element is an instance of the PhotoData structure that contains the data you want.'
  æç¤º: ''
  ç¿»è¯‘: 'camera çš„ photoStream ä¸­çš„æ¯ä¸ª AVCapturePhoto å…ƒç´ å¯èƒ½åŒ…å«æœ‰å¤šä¸ªä¸åŒåˆ†è¾¨ç‡çš„å›¾åƒï¼Œä»¥åŠå…³äºè¿™ä¸ªå›¾åƒçš„å…¶ä»–å…ƒæ•°æ®ï¼Œå¦‚å¤§å°ä»¥åŠå›¾åƒæ•è·çš„æ—¥æœŸå’Œæ—¶é—´ã€‚
        ä½ éœ€è¦è§£åŒ…å®ƒä»¥è·å–ä½ æƒ³è¦çš„å›¾åƒå’Œå…ƒæ•°æ®ã€‚åœ¨ handleCameraPhotos ä¸­çš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°† photoStream è½¬æ¢ä¸ºä¸€ä¸ªæ›´æœ‰ç”¨çš„ unpackedPhotoStreamï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ PhotoData ç»“æ„çš„å®ä¾‹ï¼Œå…¶åŒ…å«ä½ æƒ³è¦çš„é‚£äº›æ•°æ®ã€‚'
- å†…å®¹: 'To unpack the photoStream, youâ€™ll use the unpackPhoto(_:) function, which takes a captured photo and returns a PhotoData instance that contains a low-resolution image thumbnail as an Image, the size of the image thumbnail, a high-resolution image as Data, and the size of the high-resolution image.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½ ä¼šä½¿ç”¨ unpackPhoto(_:) æ–¹æ³•æ¥è§£åŒ… photoStreamï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•è·çš„ç…§ç‰‡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª PhotoData å®ä¾‹ã€‚
        è¯¥å®ä¾‹åŒ…å«ä¸€ä¸ªç±»å‹ä¸º Image çš„ä½åˆ†è¾¨ç‡å›¾åƒä½œä¸ºç¼©ç•¥å›¾ï¼Œä»¥åŠè¿™ä¸ªç¼©ç•¥å›¾çš„å¤§å°ï¼›è¿˜æœ‰ä¸€ä¸ªç±»å‹ä¸º Data çš„é«˜åˆ†è¾¨ç‡å›¾åƒï¼Œå’Œæ­¤å›¾åƒçš„å¤§å°ã€‚'
- å†…å®¹: 'Youâ€™ll recall that, as an asynchronous stream, photoStream is very much like a Sequence. You can use its compactMap(_:) method to call unpackPhoto(_:) for each photo ($0) in the stream. This transforms the stream of AVCapturePhoto instances into a much more useful stream of PhotoData instances.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½ å¯èƒ½è¿˜è®°å¾—ï¼Œä½œä¸ºä¸€ä¸ªå¼‚æ­¥æµï¼ŒphotoStream æ˜¯éå¸¸ç±»ä¼¼äºä¸€ä¸ªæ™®é€šåºåˆ—çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒçš„ compactMap(:) æ–¹æ³•æ¥å¯¹æµä¸­çš„æ¯ä¸ªç…§ç‰‡ï¼ˆä¹Ÿå°±æ˜¯ä¾‹å­ä¸­çš„ $0ï¼‰è°ƒç”¨ unpackPhoto(:)ã€‚
        è¿™å°†æŠŠ AVCapturePhoto å®ä¾‹çš„æµè½¬æ¢ä¸ºä¸€ä¸ªæ›´æœ‰ç”¨çš„ PhotoData å®ä¾‹çš„æµã€‚'
- å†…å®¹: 'The for-await loop now waits for a photoData element to arrive in your unpacked stream before processing it.'
  æç¤º: ''
  ç¿»è¯‘: 'ç°åœ¨ï¼Œfor-await å¾ªç¯ä¼šç­‰å¾…ä¸€ä¸ª photoData å…ƒç´ åˆ°è¾¾ä½ çš„ unpackedPhotoStream ä¸­ï¼Œç„¶åå¤„ç†å®ƒã€‚'
- å†…å®¹: 'Step 6'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬å…­æ­¥'
- å†…å®¹: 'You use the thumbnail image in photoData to update your modelâ€™s thumbnailImage property.'
  æç¤º: ''
  ç¿»è¯‘: 'ä½ ä½¿ç”¨ photoData ä¸­çš„ç¼©ç•¥å›¾æ¥æ›´æ–°æ¨¡å‹çš„ thumbnailImage å±æ€§ã€‚'
- å†…å®¹: 'Step 7'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬ä¸ƒæ­¥'
- å†…å®¹: 'Call your modelâ€™s savePhoto(imageData:) method to save the image data from photoData as a new photo in your photo library.'
  æç¤º: ''
  ç¿»è¯‘: 'è°ƒç”¨ä½ æ¨¡å‹çš„ savePhoto(imageData:) æ–¹æ³•ï¼Œå°† photoData ä¸­çš„å›¾åƒæ•°æ®ä¿å­˜ä¸ºç…§ç‰‡åº“ä¸­çš„æ–°ç…§ç‰‡ã€‚'
- å†…å®¹: 'Step 8'
  æç¤º: ''
  ç¿»è¯‘: 'ç¬¬å…«æ­¥'
- å†…å®¹: 'The savePhoto(imageData:) method creates a task and passes on the real work of saving the photo data to the photoCollection object by calling its addImage(_:) method. And thatâ€™s fine! The data modelâ€™s job is to coordinate data flow between the appâ€™s data objects.'
  æç¤º: ''
  ç¿»è¯‘: 'savePhoto(imageData:) æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ª Taskï¼Œå¹¶é€šè¿‡è°ƒç”¨ photoCollection å¯¹è±¡çš„ addImage(_:) æ–¹æ³•å°†çœŸæ­£ä¿å­˜ç…§ç‰‡æ•°æ®çš„å·¥ä½œå§”æ‰˜ç»™å®ƒã€‚
        è¿™æ˜¯å®Œå…¨å¯ä»¥çš„ï¼æ•°æ®æ¨¡å‹çš„å·¥ä½œä¹‹ä¸€å°±æ˜¯åè°ƒ app æ•°æ®å¯¹è±¡ä¹‹é—´çš„æ•°æ®æµã€‚'
